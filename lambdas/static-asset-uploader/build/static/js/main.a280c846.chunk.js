(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1399:function(e,t){},1401:function(e,t){},1615:function(e,t,a){},1617:function(e,t,a){},1618:function(e,t,a){"use strict";a.r(t);var n=a(24),i=a(25),r=a(27),o=a(26),c=a(28),l=a(84),s=a(0),u=a.n(s),d=a(67),p=a.n(d),m=a(1649),f=a(1638),g=a(1641),h=a(1647),b=a(527),y=a(33),v=a(1625),E=a(34),w=a(528),k=a.n(w),S=a(529),O=a.n(S),j=Object(E.j)({});function x(e,t){j[t]={jsx:function(){return null}},window.fetch(e).then(function(e){return e.text().then(function(e){var a=k()(e);j[t]=Object(y.a)({jsx:function(){return u.a.createElement(O.a,{escapeHtml:!1,source:a.body,renderers:A})}},a.attributes)})})}var C,A={link:function(e){var t=e.href,a=Object(l.a)(e,["href"]);return/^(?:[a-z]+:)?\/\//i.test(t)?u.a.createElement("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer"},a)):u.a.createElement(v.a,Object.assign({to:t},a))}},P=(a(724),a(31)),I=a(1645),N=a(556),G=a(1640),R=a(1619),L=a(1626),D=Object(P.a)(function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(I.a,{vertical:!0,textAlign:"center",style:{color:"whitesmoke",backgroundColor:"slategray",padding:"40px 0px",margin:"0px !important"}},u.a.createElement(N.a,{centered:!0,size:"small",src:"/custom-content/home-image.png"}),u.a.createElement(G.a,{as:"h1",style:{color:"whitesmoke"}},j.Home.header),u.a.createElement("p",null,j.Home.tagline),u.a.createElement(v.a,{to:"/getting-started","data-testid":"gettingStartedLink"},u.a.createElement(R.a,{positive:!0},j.Home.gettingStartedButton)),u.a.createElement(v.a,{to:"/apis",style:{padding:"0.78571429em 1.5em 0.78571429em",color:"white"},"data-testid":"apiListLink"},j.Home.apiListButton)),u.a.createElement(I.a,{vertical:!0,style:{padding:"40px 0px",margin:"0 !important"}},u.a.createElement(L.a,{fluid:!0,text:!0,textAlign:"justified"},u.a.createElement(j.Home.jsx,null))))}),T=Object(P.a)(function(){return u.a.createElement(L.a,{style:{padding:"40px"}},u.a.createElement(j.GettingStarted.jsx,null))}),H=a(118),M=a(1639),z=a(1627),K=a(1635),J=a(1628),q=a(1633),U=a(1642),F=a(532),_=a.n(F),B=a(37),W=a.n(B),V=a(121),Y=a.n(V),Z=window.config.region,Q=window.config.region,X=window.config.userPoolId,$=window.config.identityPoolId,ee=window.config.userPoolClientId,te=window.config.userPoolDomain;function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accessKeyId,a=e.secretAccessKey,n=e.sessionToken;C=window.apigClientFactory.newClient({accessKey:t,secretKey:a,sessionToken:n,region:Z}),window.apigw=C}function ne(){return C?Promise.resolve(C):new Promise(function(e){var t=setInterval(function(){C&&(clearInterval(t),e(C))},100)})}Y.a.config.region=Q;var ie=Object(E.j)(Object(y.a)({},{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}},{initialize:function(){return Object.assign(this,{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}}),this},clear:function(){return this.initialize()},reset:function(){for(var e=this,t={api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}},a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.forEach(function(a){return W.a.set(e,a,W.a.get(t,a))}),this},resetUserData:function(){this.reset("apiKey","cognitoUser","subscriptions")}}));function re(e,t){Object(E.k)(e,function(e,a){t(e,a)})}re(function(){return{subscriptions:ie.subscriptions,usagePlans:ie.usagePlans}},function(e){!function(e){e&&e.forEach(function(e){var t,a=(t=e.id,!!ie.subscriptions.find(function(e){return e.id===t}));e.subscribed=a,e.apis.forEach(function(e){e.subscribed=a})})}(e.usagePlans)}),re(function(){return[].concat(ie.apiList.apiGateway,ie.apiList.generic)},function(e){!function(e){e.forEach(function(e){if(!e.logo){var t="/custom-content/api-logos/".concat(e.id,"_").concat(e.stage,".png");window.fetch(t,{headers:{Accept:"image/png"},redirect:"manual"}).then(function(a){a.ok?e.logo=t:e.logo="/custom-content/api-logos/default.png"})}})}(e)});ie.initialize();var oe=a(232),ce=a(240);function le(){return ie.idToken}function se(){return ie.idToken&&"".concat(ce(ie.idToken)["cognito:preferred_role"]).includes("-CognitoAdminRole-")}function ue(){return new Promise(function(e,t){var a;try{window.location.hash.replace(/^#/,"").split("&").map(function(e){return e.split("=")}).forEach(function(e){"id_token"===e[0]&&(a=e[1])}),a&&(window.localStorage.setItem(X,a),ie.idToken=a,he(),e(a))}catch(n){t(n)}})}var de,pe,me,fe=function(){return"".concat(window.location.protocol,"//").concat(window.location.host,"/index.html?action=login")},ge=function(){return"".concat(window.location.protocol,"//").concat(window.location.host,"/index.html?action=logout")};function he(){var e=ce(ie.idToken)["cognito:preferred_role"],t={IdentityPoolId:$,Logins:Object(oe.a)({},"cognito-idp.".concat(Q,".amazonaws.com/").concat(X),ie.idToken)};return e&&(t.RoleArn=e),Y.a.config.credentials=new Y.a.CognitoIdentityCredentials(t),new Promise(function(e,t){Y.a.config.credentials.refresh(function(e){return e?(console.error(e),t(e)):(ae(Y.a.config.credentials),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[ye(e),Ee(e),we(e)];se()&&t.push(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ne().then(function(e){return e.get("/admin/catalog/visibility",{},{},{})}).then(function(e){var t=e.data;return ie.visibility=t})}(e));Promise.all(t)}(),ne().then(function(e){return e.post("/signin",{},{},{})}))})})}function be(){if(ie.idToken&&(ie.resetUserData(),window.localStorage.clear(),te)){var e=ge();window.location="".concat(te,"/logout?client_id=").concat(ee,"&logout_uri=").concat(e)}}function ye(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!de?(ie.apiList.loaded=!1,de=ne().then(function(e){return e.get("/catalog",{},{},{})}).then(function(e){var t,a=e.data,n=void 0===a?[]:a;ie.usagePlans=n.apiGateway,ie.apiList={loaded:!0,apiGateway:(t=ie.usagePlans,t.reduce(function(e,t){return t.apis.forEach(function(e){e.usagePlan=W.a.cloneDeep(t),delete e.usagePlan.apis}),e.concat(t.apis)},[])),generic:n.generic}}).catch(function(){ie.usagePlans=[],ie.apiList={loaded:!0,apiGateway:[],generic:[]}})):de}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return ye(arguments.length>3&&void 0!==arguments[3]&&arguments[3]).then(function(){var n,i=[].concat(ie.apiList.apiGateway,ie.apiList.generic);return i.length&&(n="ANY"===e||"FIRST"===e?i[0]:i.find(function(t){return t.id.toString()===e}),a&&(n=ie.apiList.apiGateway.find(function(t){return t.id.toString()===e&&t.stage===a}))),t&&(ie.api=n),n})}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ie.subscriptions.length?ie.subscriptions:pe;return!e&&t?Promise.resolve(t):pe=ne().then(function(e){return e.get("/subscriptions",{},{},{})}).then(function(e){var t=e.data;return ie.subscriptions=t})}function we(e){var t=ie.apiKey?ie.apiKey:me;return!e&&t?Promise.resolve(t):ne().then(function(e){return e.get("/apikey",{},{},{})}).then(function(e){var t=e.data;return ie.apiKey=t.value})}function ke(e,t){var a={};return Object.keys(e.items).forEach(function(t){(function(e,t){var a=new Date(t);e&&!Array.isArray(e[0])&&(e=[e]);return e.map(function(e){var t=a.setDate(a.getDate()),n=[t].concat(Object(H.a)(e));return a.setDate(a.getDate()+1),n})})(e.items[t],e.startDate).forEach(function(e){var t=e[0],n=e[1],i=e[2];a[t]||(a[t]={used:0,remaining:0}),a[t].used+=n,a[t].remaining+=i})}),Object.keys(a).sort().map(function(e){return[parseInt(e,10),a[e].used,a[e].remaining]})}var Se=a(239);function Oe(e){var t=e[0],a=e.slice(1);return t.toUpperCase()+a.toLowerCase()}function je(e,t){(function(e){var t=new Date,a=new Date(t.getFullYear(),t.getMonth(),1).toJSON().split("T")[0],n=t.toJSON().split("T")[0];return ne().then(function(t){return t.get("/subscriptions/"+e+"/usage",{start:a,end:n},{})})})(e.id).then(function(a){var n=ke(a.data),i=document.getElementById(t);JSON.stringify(W.a.get(e,"usage.data",{}))!==JSON.stringify(n)&&(e.usage={data:n});var r=n.map(function(e){return new Date(e[0]).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),o=n.map(function(e){return e[1]}),c=n.map(function(e){return e[2]}),l=Math.max.apply(Math,Object(H.a)(o).concat(Object(H.a)(c))),s={type:"line",data:{labels:r,datasets:[{label:"Requests used"+(e.quota?" (per ".concat(Oe(e.quota.period),")"):""),data:o,lineTension:0,backgroundColor:"#00bfff",borderColor:"#00bfff",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10},{label:"Remaining requests"+(e.quota?" (per ".concat(Oe(e.quota.period),")"):""),data:c,lineTension:0,backgroundColor:"transparent",borderColor:"red",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:l+.02*l}}]}}};new _.a(i,s)}).catch(function(t){console.error(t),e.usage||(e.usage={}),e.usage.error=t})}var xe=Object(P.a)(function(){return u.a.createElement(M.a,{container:!0},u.a.createElement(M.a.Row,null,u.a.createElement(M.a.Column,{style:{paddingTop:"40px"}},u.a.createElement(G.a,{size:"medium"},"API Key"),u.a.createElement("code",{style:{background:"black",border:"1px solid gray",padding:"7px 8px",color:"lightgray",borderRadius:"5px"}},ie.apiKey))),u.a.createElement(z.a,null),u.a.createElement(M.a.Row,null,ie.usagePlans.filter(function(e){return e.subscribed&&e.apis.length}).map(function(e,t){var a="api-usage-chart-container-".concat(e.id)+t;return je(e,a),u.a.createElement(M.a.Column,{width:16,widescreen:8,key:e.id,style:{marginBottom:"40px"}},u.a.createElement(Ce,{apis:e.apis}),e.throttle&&u.a.createElement(K.a,{info:!0},u.a.createElement("p",null,"Requests limited to ",e.throttle.rateLimit," per second, and ",e.throttle.burstLimit," in a burst.")),e.usage?e.error?u.a.createElement(K.a,{error:!0,content:e.error.toString()}):null:u.a.createElement(J.a,{active:!0}),u.a.createElement("canvas",{id:a}))})))}),Ce=function(e){var t=e.apis,a=t[0].swagger.info.title,n=u.a.createElement(q.a,null,t.reduce(function(e,t){return e.concat(u.a.createElement(q.a.Item,{key:t.id},t.swagger.info.title))},[])),i=t.length-1;return u.a.createElement(G.a,{size:"medium"},"Usage for ",i?u.a.createElement(U.a,{trigger:u.a.createElement("a",{style:{cursor:"pointer"}},a," and ",i," more..."),content:n,on:["hover","click"],position:"right center"}):a)},Ae=a(534),Pe=a.n(Ae),Ie=(a(1558),a(83)),Ne=a(1636);function Ge(e,t,a,n){return n?!!t&&(e===t&&a===n):!!t&&e===t}var Re=Object(P.a)(function(e){var t=!ie.apiList.loaded,a=!!W.a.get(ie,"apiList.apiGateway.length"),n=!!W.a.get(ie,"apiList.generic.length"),i=e.path.params.apiId||a&&ie.apiList.apiGateway[0].id||n&&ie.apiList.generic[0].id;"/apis/search"===e.path.url&&(i=!1);var r=e.path.params.stage||a&&ie.apiList.apiGateway[0].stage;return t?u.a.createElement(J.a,{active:!0}):a||n?u.a.createElement(u.a.Fragment,null,u.a.createElement(Ne.a.Item,{key:"search",as:v.a,to:"/apis/search",active:"/apis/search"===e.path.url},"Search APIs"),a&&u.a.createElement(De,{title:"Subscribable",listOfApis:ie.apiList.apiGateway,selectedApiId:i,selectedStage:r}),n&&u.a.createElement(Le,{title:"Not Subscribable",listOfApis:ie.apiList.generic,selectedApiId:i})):u.a.createElement("p",{style:{padding:"13px 16px",color:"whitesmoke"}},"No APIs Published")});function Le(e){var t=e.title,a=e.listOfApis,n=e.selectedApiId;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ne.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),a.map(function(e){return u.a.createElement(Ne.a.Item,{key:e.id,as:v.a,to:"/apis/".concat(e.id),active:Ge(e.id.toString(),n.toString())},e.swagger.info.title)}))}function De(e){var t=e.title,a=e.listOfApis,n=e.selectedApiId,i=e.selectedStage,r=void 0!==i&&i;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ne.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),a.map(function(e){return u.a.createElement(Ne.a.Item,{key:"".concat(e.id,"_").concat(e.stage),as:v.a,to:"/apis/".concat(e.id,"/").concat(e.stage),active:Ge(e.id.toString(),n.toString(),e.stage.toString(),r)},e.swagger.info.title)}))}var Te=a(1631),He=a(1632),Me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={open:!1,modalProps:{},children:null},ze.open=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.setState({children:e,modalProps:t,open:!0})},ze.close=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(He.a,Object.assign({},this.state.modalProps,{open:this.state.open}),this.state.children))}}]),t}(u.a.Component),ze={open:function(){},close:function(){}},Ke=Object(P.a)(function(){return u.a.createElement(I.a,{basic:!0,style:{position:"absolute",right:0,margin:0,top:"56px",display:"flex",flexDirection:"column"}},ie.notifications.map(function(e){return u.a.createElement(K.a,Object.assign({},e,{onDismiss:function(){return t=e,void(ie.notifications=ie.notifications.filter(function(e){return e!==t}));var t},style:{margin:0,marginBottom:"15px"}}))}))});var Je=Object(P.a)(function(){return u.a.createElement("span",null,u.a.createElement(qe,{text:"Download SDK",pointing:!0,className:"link item"},_e.map(function(e){return u.a.createElement("div",{className:"item",key:e.id,onClick:function(){return Ue(e,Ve)}},e.friendlyName)})),u.a.createElement(qe,{text:"Export API",pointing:!0,className:"link item"},Be.map(function(e){return u.a.createElement("div",{className:"item",key:e.id,onClick:function(){return Ue(e,Ye)}},e.friendlyName)})),ie.api.downloadingSdkOrApi&&u.a.createElement(J.a,{active:!0,inline:!0,size:"tiny"}))}),qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={visible:!1},a.button=+new Date+"-dropdown-clickable",a.toggleDropdown=function(){return a.setState(function(e){return Object(y.a)({},e,{visible:!e.visible})})},a.hideDropdown=function(e){e.target.classList.contains(a.button)||a.setState(function(e){return Object(y.a)({},e,{visible:!1})})},document.addEventListener("click",a.hideDropdown),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropdown)}},{key:"render",value:function(){return u.a.createElement("span",{onClick:this.toggleDropdown,className:"ui button pointing dropdown link item "+this.button+(this.state.visible?" active":"")},this.props.text,u.a.createElement("i",{className:"dropdown icon "+this.button}),u.a.createElement("div",{className:"menu transition"+(this.state.visible?" visible":"")},this.props.children))}}]),t}(u.a.Component);function Ue(e,t){e.configurationProperties.length?ze.open(u.a.createElement(Fe,{type:e,getDownload:t})):t(e.id)}var Fe=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(o.a)(t).call(this,e));var i=e.type.configurationProperties.reduce(function(e,t){return"checkbox"===t.type?e[t.name]=!1:"radio"===t.type?e[t.name]=t.default:t.required&&(e[t.name]=null),e},{});return a.state={fields:i},a.handleChange=function(e,t){var n=t.name,i=t.checked,r=t.value;a.setState(function(e){var t=a.props.type.configurationProperties.find(function(e){return e.name===n}),o=W.a.cloneDeep(e);return o.fields[n]="checkbox"===t.type?i:r,o})},a.handleSubmit=function(){a.isDisabled().disabled||(ze.close(),a.props.getDownload(a.props.type.id,a.state.fields))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"isDisabled",value:function(){return{disabled:!!Object.entries(this.state.fields).find(function(e){var t=Object(Se.a)(e,2),a=(t[0],t[1]);return null==a||""===a})}}},{key:"renderProperty",value:function(e){var t=this;return"checkbox"===e.type?u.a.createElement(Te.a.Checkbox,{name:e.name,label:"".concat(e.friendlyName),onChange:this.handleChange}):"radio"===e.type&&e.values.some(function(t){return e.default===t.name})?u.a.createElement(Te.a.Group,{inline:!0},u.a.createElement(Te.a.Field,null,e.friendlyName),u.a.createElement(u.a.Fragment,null,e.values.map(function(a){var n=a.friendlyName,i=a.name;return u.a.createElement(Te.a.Radio,{key:i,name:e.name,label:"".concat(n),value:i,checked:t.state.fields[e.name]===i,onChange:t.handleChange})}))):e.required?u.a.createElement(Te.a.Input,{name:e.name,label:"".concat(e.friendlyName," (required)"),placeholder:e.friendlyName,onChange:this.handleChange}):null}},{key:"render",value:function(){var e=this,t=this.props.type;return u.a.createElement(u.a.Fragment,null,u.a.createElement(G.a,{icon:"archive",content:"Download the ".concat(t.longName)}),u.a.createElement(He.a.Content,null,u.a.createElement(Te.a,{onSubmit:this.handleSubmit},t.configurationProperties.map(function(t){return u.a.createElement(u.a.Fragment,{key:t.name},e.renderProperty(t))}))),u.a.createElement(He.a.Actions,null,u.a.createElement(R.a,{basic:!0,color:"red",onClick:ze.close},u.a.createElement(Ie.a,{name:"remove"})," Cancel"),u.a.createElement(R.a,Object.assign({color:"green"},this.isDisabled(),{onClick:this.handleSubmit}),u.a.createElement(Ie.a,{name:"checkmark"})," Download")))}}]),t}(u.a.Component),_e=[{id:"android",friendlyName:"Android",longName:"Android SDK",description:"",configurationProperties:[{name:"groupId",friendlyName:"Group ID",description:"",required:!0},{name:"invokerPackage",friendlyName:"Invoker package",description:"",required:!0},{name:"artifactId",friendlyName:"Artifact ID",description:"",required:!0},{name:"artifactVersion",friendlyName:"Artifact version",description:"",required:!0}]},{id:"javascript",friendlyName:"JavaScript",longName:"JavaScript SDK",description:"",configurationProperties:[]},{id:"ios-objective-c",friendlyName:"iOS (Objective-C)",longName:"iOS SDK (Objective-C)",description:"",configurationProperties:[{name:"classPrefix",friendlyName:"Prefix",description:"",required:!0}]},{id:"ios-swift",friendlyName:"iOS (Swift)",longName:"iOS SDK (Swift)",description:"",configurationProperties:[{name:"classPrefix",friendlyName:"Prefix",description:"",required:!0}]},{id:"java",friendlyName:"Java",longName:"Java SDK",description:"Java SDK generator for API Gateway APIs",configurationProperties:[{name:"service.name",friendlyName:"Service Name",description:"Name of the service which is used to derive the Java interface name for your client",required:!0},{name:"java.package-name",friendlyName:"Java Package Name",description:"Name of the Java package your code will be generated under",required:!0},{name:"java.build-system",friendlyName:"Java Build System",description:"Build system to setup for project; Currently supported: maven, gradle",required:!1},{name:"java.group-id",friendlyName:"Java Group Id",description:"Group id for your Maven or Gradle project. Defaults to package name",required:!1},{name:"java.artifact-id",friendlyName:"Java Artifact Id",description:"Artifact Id for your Maven project or project name for your Gradle project. Defaults to service name",required:!1},{name:"java.artifact-version",friendlyName:"Java Artifact Version",description:"Version of your Maven or Gradle project. Defaults to 1.0-SNAPSHOT",required:!1},{name:"java.license-text",friendlyName:"Source Code License Text",description:"Customer provided license to inject into source file headers",required:!1}]},{id:"ruby",friendlyName:"Ruby",longName:"Ruby SDK",description:"Ruby SDK generator for API Gateway APIs",configurationProperties:[{name:"service.name",friendlyName:"Service Name",description:"Name of the service which is used to derive the name for your client",required:!0},{name:"ruby.gem-name",friendlyName:"Ruby Gem Name",description:"Name of the Ruby gem your code will be generated under",required:!1},{name:"ruby.gem-version",friendlyName:"Ruby Gem Version",description:"Version number for your service gem. Defaults to 1.0.0",required:!1}]}],Be=[{id:"oas30",friendlyName:"OpenAPI 3",longName:"OpenAPI 3 definitions",description:"",configurationProperties:[{name:"extensions.integrations",friendlyName:"Include x-amazon-apigateway-integration extensions",description:"",type:"checkbox"},{name:"extensions.authorizers",friendlyName:"Include x-amazon-apigateway-authorizer extensions",description:"",type:"checkbox"},{name:"extensions.postman",friendlyName:"Include extensions to allow importing into Postman",description:"",type:"checkbox"},{name:"accept",friendlyName:"Export format",description:"",type:"radio",default:"application/json",values:[{name:"application/json",friendlyName:"JSON"},{name:"application/yaml",friendlyName:"YAML"}]}]},{id:"swagger",friendlyName:"Swagger",longName:"Swagger (OpenAPI 2) definitions",description:"",configurationProperties:[{name:"extensions.integrations",friendlyName:"Include x-amazon-apigateway-integration extensions",description:"",type:"checkbox"},{name:"extensions.authorizers",friendlyName:"Include x-amazon-apigateway-authorizer extensions",description:"",type:"checkbox"},{name:"extensions.postman",friendlyName:"Include extensions to allow importing into Postman",description:"",type:"checkbox"},{name:"accept",friendlyName:"Export format",description:"",type:"radio",default:"application/json",values:[{name:"application/json",friendlyName:"JSON"},{name:"application/yaml",friendlyName:"YAML"}]}]}];function We(e){var t=e.blobType,a=e.endpointName,n=e.sdkType,i=e.exportType,r=e.parameters,o=ie.api.apiId||ie.api.id,c=ie.api.stage;return ie.api.downloadingSdkOrApi=!0,ne().then(function(e){return e.get("/catalog/".concat(o,"_").concat(c,"/").concat(a),{sdkType:n},{},{queryParams:{exportType:i,parameters:JSON.stringify(r)}})}).then(function(e){!function(e,t){var a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e.data,"".concat(o,"_").concat(c,"-").concat(n||i,".zip"))}).catch(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;!function(e){var t=e.compact,a=void 0===t||t,n=e.negative,i=void 0===n||n,r=e.floating,o=void 0===r||r,c=e.icon,l=void 0===c?"warning sign":c,s=e.header,u=void 0===s?"Error":s,d=e.content,p=void 0===d?"An unknown error has occurred.":d;ie.notifications.push({compact:a,negative:i,floating:o,icon:l,header:u,content:p})}({header:"An error occurred while attempting to download the ".concat(t,"."),content:e.message})}).finally(function(){ie.api.downloadingSdkOrApi=!1})}function Ve(e){return We({blobType:"SDK",endpointName:"sdk",sdkType:e,parameters:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("oas30"===e||"swagger"===e){var a=[];t["extensions.integrations"]&&a.push("integrations"),t["extensions.authorizers"]&&a.push("authorizers"),t["extensions.postman"]&&a.push("postman"),t=W.a.omit(t,["extensions.integrations","extensions.authorizers","extensions.postman"]),a.length&&(t.extensions=a.join(""))}return We({blobType:"API export",endpointName:"export",exportType:e,parameters:t})}var Ze,Qe=Object(P.a)(function(e){var t=e.specSelectors,a=t.basePath(),n=t.host(),i=t.externalDocs();return u.a.createElement(L.a,{fluid:!0,textAlign:"left",className:"fixfloat",style:{padding:"40px 0px"}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{flex:"0 0 auto",marginRight:"20px"}},u.a.createElement(N.a,{size:"small",src:ie.api.logo})),u.a.createElement("div",null,u.a.createElement(G.a,{as:"h1"},ie.api.swagger.info.title),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{marginRight:"20px"}},ie.api.generic&&u.a.createElement("p",{style:{fontWeight:"bold"}},"Version"),u.a.createElement("p",{style:{fontWeight:"bold"}},"Endpoint")),u.a.createElement("div",null,ie.api.generic&&u.a.createElement("p",null,ie.api.swagger.info.version),u.a.createElement("p",null,"https://",n,a))),u.a.createElement("p",null,i),u.a.createElement(Xe,null),ie.api.sdkGeneration&&u.a.createElement(Je,null))))}),Xe=Object(P.a)(function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=ie.api;return e&&le()?e.generic?u.a.createElement(G.a,{as:"h4",color:"grey"},"This API is not configured for subscription from the portal."):e.subscribed?u.a.createElement(R.a,{onClick:function(){return t=e.usagePlan.id,ne().then(function(e){return e.delete("/subscriptions/".concat(t),{},{})}).then(function(){return Ee(!0)});var t}},"Unsubscribe"):u.a.createElement(R.a,{onClick:function(){return t=e.usagePlan.id,ne().then(function(e){return e.put("/subscriptions/"+t,{},{})}).then(function(){return Ee(!0)});var t}},"Subscribe"):null}}]),t}(u.a.Component)),$e=function(){return{components:{InfoContainer:Qe}}},et=a(1644),tt=a(1648),at=(Ze=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sidebarContent,a=e.children,n=e.SidebarPusherProps,i=this.props,r=i.isSidebarCollapsed,o=i.isMobileScreenResolution,c=i.toggleSidebar,l="calc(100% - ".concat(o?"48px":"260px",")"),s=o?"overlay":"push",d=o?"48px":0,p=r?"-".concat("260px"):0;return u.a.createElement(et.a.Pushable,{as:I.a,style:{display:"flex",flex:"1 1 auto",overflow:"hidden",border:"none",margin:0,borderRadius:0,boxShadow:"none"}},u.a.createElement(et.a,{as:Ne.a,inverted:!0,attached:!0,borderless:!0,vertical:!0,style:{margin:0,borderRadius:0,flex:"0 0 auto",position:"relative",overflowY:"scroll",width:"260px"},visible:!r,animation:s},t),o&&u.a.createElement(nt,{onClick:c,expanded:!r,style:{marginLeft:p,width:"48px",transition:"500ms ease"}}),u.a.createElement(et.a.Pusher,Object.assign({dimmed:o&&!r,style:{marginLeft:d,position:"absolute",flex:"1 1 auto",height:"100%",overflow:"auto",width:l,transition:"500ms ease"}},n),a))}}]),t}(u.a.Component),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={isSidebarCollapsed:!1,isMobileScreenResolution:!1},a.checkMobileScreenResolution=function(){var e=a.isMobileScreenResolution();a.setState({isSidebarCollapsed:e,isMobileScreenResolution:e})},a.toggleSidebar=function(){a.setState(function(e){return{isSidebarCollapsed:!e.isSidebarCollapsed}})},a.debouncedResizeHandler=W.a.debounce(a.checkMobileScreenResolution,500),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.checkMobileScreenResolution(),window.addEventListener("resize",this.debouncedResizeHandler)}},{key:"isMobileScreenResolution",value:function(){var e=tt.a.onlyMobile,t=e.minWidth,a=e.maxWidth;return window.innerWidth>=t&&window.innerWidth<=a}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedResizeHandler)}},{key:"render",value:function(){return u.a.createElement(Ze,Object.assign({isSidebarCollapsed:this.state.isSidebarCollapsed,toggleSidebar:this.toggleSidebar,isMobileScreenResolution:this.state.isMobileScreenResolution},this.props))}}]),t}(u.a.Component));function nt(e){var t=e.onClick,a=e.expanded,n=e.style;return u.a.createElement(R.a,{secondary:!0,size:"large",onClick:t,title:"Expand Sidebar",style:Object(y.a)({zIndex:3,borderRadius:0,height:"100%"},n)},u.a.createElement(Ie.a,{name:"chevron ".concat(a?"left":"right"),style:{margin:0,padding:0,width:0,height:0}}))}var it=Object(P.a)(function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateApi().then(function(){return ye(!0)})}},{key:"componentDidUpdate",value:function(){this.updateApi()}},{key:"updateApi",value:function(){return ve(this.props.match.params.apiId||"ANY",!0,this.props.match.params.stage).then(function(e){if(e){var t={dom_id:"#swagger-ui-container",plugins:[$e],supportedSubmitMethods:[],spec:e.swagger,onComplete:function(){ie.apiKey&&a.preauthorizeApiKey("api_key",ie.apiKey)}};le()&&delete t.supportedSubmitMethods;var a=Pe()(t)}})}},{key:"render",value:function(){var e,t;return ie.apiList.loaded&&(ie.apiList.apiGateway.length||ie.apiList.generic.length?ie.api||(e="No Such API",t="The selected API doesn't exist."):(e="No APIs Published",t="Your administrator hasn't added any APIs to your account. Please contact them to publish an API.")),u.a.createElement(at,{sidebarContent:u.a.createElement(Re,{path:this.props.match}),SidebarPusherProps:{className:"swagger-section"}},u.a.createElement("div",{className:"swagger-ui-wrap",id:"swagger-ui-container",style:{padding:"0 20px"}},e&&t&&u.a.createElement(u.a.Fragment,null,u.a.createElement(G.a,{as:"h2",icon:!0,textAlign:"center",style:{padding:"40px 0px"}},u.a.createElement(Ie.a,{name:"warning sign",circular:!0}),u.a.createElement(G.a.Content,null,e)),u.a.createElement(L.a,{text:!0,textAlign:"justified"},u.a.createElement("p",null,t)))))}}]),t}(u.a.Component)),rt=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(g.a,null,u.a.createElement(at,{sidebarContent:u.a.createElement(ot,null)},u.a.createElement(u.a.Fragment,null,u.a.createElement(kt,{exact:!0,path:"/admin",component:dt}),u.a.createElement(kt,{path:"/admin/apis",component:dt}))))}}]),t}(s.Component),ot=Object(P.a)(function(){return se()&&u.a.createElement(Ne.a.Item,{as:v.a,to:"/admin/apis"},"APIs")}),ct=a(1634),lt=a(553),st=a(554),ut=a.n(st),dt=Object(P.a)(function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={modalOpen:!1,errors:[]},a.fileInput=u.a.createRef(),a.tableSort=function(e,t){return e.name!==t.name?e.name.localeCompare(t.name):e.stage.localeCompare(t.stage)},a.genericTableSort=function(e,t){var a=ie.visibility.generic;if(a[e].name===a[t].name)return e.localeCompare(t);a[e].name.localeCompare(a[t].name)},a.usagePlanSort=function(e,t){return e.name!==t.name?e.name.localeCompare(t.name):e.id.localeCompare(t.id)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getApiVisibility()}},{key:"uploadAPISpec",value:function(e){var t=this;e.preventDefault();var a,n,i,r=this.fileInput.current.files;r.length>0&&(this.setState(function(e){return Object(y.a)({},e,{errors:[]})}),r.forEach(function(e){var r=new window.FileReader;r.onload=function(r){if(e.name.includes("yaml")?(n=lt.parse(r.target.result),a=JSON.stringify(n)):(n=JSON.parse(r.target.result),a=JSON.stringify(n)),!n.info||!n.info.title)return i=!0,void t.setState(function(t){return Object(y.a)({},t,{errors:[].concat(Object(H.a)(t.errors),[e.name])})});i||ne().then(function(e){return e.post("/admin/catalog/visibility",{},{swagger:a},{})}).then(function(e){200===e.status&&t.setState(function(e){return Object(y.a)({},e,{modalOpen:i,errors:i?e.errors:[]})}),setTimeout(function(){return t.getApiVisibility()},2e3)})},r.readAsText(e)}))}},{key:"deleteAPISpec",value:function(e){var t=this;ve(e,!1,void 0,!0).then(function(e){var a=Object(E.m)(e),n=ut()(a.swagger);ne().then(function(e){return e.delete("/admin/catalog/visibility/generic/".concat(n),{},{},{})}).then(function(e){setTimeout(function(){return t.getApiVisibility()},2e3)})})}},{key:"getApiVisibility",value:function(){ne().then(function(e){return e.get("/admin/catalog/visibility",{},{},{})}).then(function(e){if(200===e.status){var t=e.data.apiGateway,a=e.data.generic&&Object.keys(e.data.generic);t.forEach(function(t){a&&a.forEach(function(a){e.data.generic["".concat(a)]&&e.data.generic["".concat(a)].apiId===t.id&&e.data.generic["".concat(a)].stage===t.stage&&(t.visibility=!0,delete e.data.generic["".concat(a)])})}),ie.visibility=e.data}})}},{key:"updateLocalApiGatewayApis",value:function(e,t,a){var n=e.map(function(e){return e.id===t.id&&e.stage===t.stage&&(e.visibility=void 0===a||!0!==a&&!1!==a?!e.visibility:a),e});ie.visibility={generic:ie.visibility.generic,apiGateway:n}}},{key:"showApiGatewayApi",value:function(e){var t=this;ne().then(function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})}).then(function(a){200===a.status&&t.updateLocalApiGatewayApis(ie.visibility.apiGateway,e)})}},{key:"hideApiGatewayApi",value:function(e){var t=this;e.subscribable||e.id||e.stage?ne().then(function(t){return t.delete("/admin/catalog/visibility/".concat(e.id,"_").concat(e.stage),{},{},{})}).then(function(a){200===a.status&&t.updateLocalApiGatewayApis(ie.visibility.apiGateway,e)}):this.deleteAPISpec(e.genericId)}},{key:"showAllApiGatewayApis",value:function(e){var t=this;Promise.all(e.apis.map(function(e){return ne().then(function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})}).then(function(t){return t.api=e,t})})).then(function(e){e.forEach(function(e){200===e.status&&t.updateLocalApiGatewayApis(ie.visibility.apiGateway,e.api,!0)})})}},{key:"hideAllApiGatewayApis",value:function(e){var t=this;Promise.all(e.apis.map(function(e){return ne().then(function(t){return t.delete("/admin/catalog/visibility/".concat(e.id,"_").concat(e.stage),{},{},{})}).then(function(t){return t.api=e,t})})).then(function(e){e.forEach(function(e){200===e.status&&t.updateLocalApiGatewayApis(ie.visibility.apiGateway,e.api,!1)})})}},{key:"updateApiGatewayApi",value:function(e){ne().then(function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})})}},{key:"isSdkGenerationConfigurable",value:function(e){return e.visibility}},{key:"toggleSdkGeneration",value:function(e,t){ne().then(function(e){return t.sdkGeneration?e.delete("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{}):e.put("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{})}).then(function(a){if(200===a.status){var n=e.map(function(e){return e.id===t.id&&e.stage===t.stage&&(e.sdkGeneration=!e.sdkGeneration),e});ie.visibility.apiGateway=n}})}},{key:"renderHeaderVisibilityButton",value:function(e){var t=this,a=e.apis.length,n=e.apis.filter(function(e){return!0===e.visibility}).length;return a===n?u.a.createElement(R.a,{basic:!0,color:"green",style:{backgroundColor:"white",width:"100%"},onClick:function(){return t.hideAllApiGatewayApis(e)}},"True"):0===n?u.a.createElement(R.a,{basic:!0,color:"red",style:{backgroundColor:"white",width:"100%"},onClick:function(){return t.showAllApiGatewayApis(e)}},"False"):u.a.createElement(U.a,{content:"Users subscribed to any of the APIs in this usage plan will have a valid API key for all APIs in this usage plan, even those that are not visible!",trigger:u.a.createElement(R.a,{basic:!0,color:"yellow",style:{backgroundColor:"white",width:"100%",paddingLeft:"1em",paddingRight:"1em",minWidth:"88px"},onClick:function(){return t.showAllApiGatewayApis(e)}},"Partial ",u.a.createElement(Ie.a,{name:"warning sign",style:{paddingLeft:"5px"}}))})}},{key:"sortByUsagePlan",value:function(){var e=this;if(!ie.visibility.apiGateway)return this.renderNoApis();var t=ie.visibility.apiGateway.filter(function(e){return e.usagePlanId}).reduce(function(e,t){return e.find(function(e){return t.usagePlanId===e.id})||e.push({id:t.usagePlanId,name:t.usagePlanName}),e},[]).sort(this.usagePlanSort).map(function(t){return Object(y.a)({},t,{apis:ie.visibility.apiGateway.filter(function(e){return e.usagePlanId===t.id}).sort(e.tableSort)})}),a=ie.visibility.apiGateway.filter(function(e){return!e.usagePlanId}).sort(this.tableSort);return u.a.createElement(u.a.Fragment,null,t.map(function(t,a){return u.a.createElement(u.a.Fragment,null,e.renderHeader(t,a),t.apis.map(function(t){return t.id!==window.config.restApiId&&e.renderRow(t,a)}))}),u.a.createElement(ct.a.Row,{style:{backgroundColor:"#1678c2",color:"white"}},u.a.createElement(ct.a.Cell,{colSpan:"6"},u.a.createElement("b",null,"Not Subscribable")," ",u.a.createElement("i",null,"No Usage Plan"))),a.map(function(t){return t.id!==window.config.restApiId&&e.renderRow(t)}))}},{key:"renderNoApis",value:function(){return u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.Cell,{colSpan:"4"},"No APIs found"))}},{key:"renderHeader",value:function(e,t){return u.a.createElement(ct.a.Row,{key:t,style:{backgroundColor:"#1678c2",color:"white"}},u.a.createElement(ct.a.Cell,{colSpan:"3"},u.a.createElement("b",null,e&&e.name)," ",u.a.createElement("i",null,"Usage Plan")),u.a.createElement(ct.a.Cell,null,this.renderHeaderVisibilityButton(e)),u.a.createElement(ct.a.Cell,{colSpan:"2"}))}},{key:"renderRow",value:function(e){var t=this;return u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.Cell,{collapsing:!0},e.name),u.a.createElement(ct.a.Cell,null,e.stage),u.a.createElement(ct.a.Cell,null,e.subscribable?"Subscribable":"Not Subscribable"),u.a.createElement(ct.a.Cell,null,u.a.createElement(R.a,{basic:!0,color:e.visibility?"green":"red",style:{width:"100%"},onClick:function(){return e.visibility?t.hideApiGatewayApi(e):t.showApiGatewayApi(e)}},e.visibility?"True":"False")),u.a.createElement(ct.a.Cell,null,u.a.createElement(R.a,{basic:!0,color:"blue",disabled:!e.visibility,style:{width:"100%"},onClick:function(){return t.updateApiGatewayApi(e)}},"Update")),u.a.createElement(ct.a.Cell,null,u.a.createElement(R.a,{basic:!0,color:"blue",style:{width:"100%"},disabled:!e.visibility||!this.isSdkGenerationConfigurable(e),onClick:function(){return t.toggleSdkGeneration(ie.visibility.apiGateway,e)}},e.sdkGeneration?"Enabled":"Disabled")))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{display:"flex",width:"100%"}},u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(ct.a,{celled:!0,collapsing:!0},u.a.createElement(ct.a.Header,{fullWidth:!0},u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.HeaderCell,{colSpan:"6"},"API Gateway APIs"))),u.a.createElement(ct.a.Header,{fullWidth:!0},u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(ct.a.HeaderCell,null,"Stage"),u.a.createElement(ct.a.HeaderCell,null,"API Type"),u.a.createElement(ct.a.HeaderCell,null,"Displayed"),u.a.createElement(ct.a.HeaderCell,null,"Update"),u.a.createElement(ct.a.HeaderCell,null,"Allow Generating SDKs"))),u.a.createElement(ct.a.Body,null,this.sortByUsagePlan()))),u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(ct.a,{celled:!0,collapsing:!0},u.a.createElement(ct.a.Header,{fullWidth:!0},u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.HeaderCell,{colSpan:"4"},"Generic APIs"))),u.a.createElement(ct.a.Header,{fullWidth:!0},u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.HeaderCell,{colSpan:"2"},u.a.createElement(He.a,{closeIcon:!0,closeOnEscape:!0,closeOnDimmerClick:!0,onClose:function(){return e.setState(function(e){return Object(y.a)({},e,{modalOpen:!1})})},trigger:u.a.createElement(R.a,{floated:"right",onClick:function(){return e.setState(function(e){return Object(y.a)({},e,{modalOpen:!0})})}},"Add API"),open:this.state.modalOpen},u.a.createElement(He.a.Header,null,"Select .JSON, .YAML, or .YML files"),u.a.createElement(He.a.Content,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(Te.a,{onSubmit:function(t){return e.uploadAPISpec(t)}},u.a.createElement(Te.a.Field,null,u.a.createElement("label",{htmlFor:"files"},"Select Files:"),u.a.createElement("input",{type:"file",id:"files",name:"files",accept:".json,.yaml,.yml",multiple:!0,ref:this.fileInput})),!!this.state.errors.length&&u.a.createElement(K.a,{size:"tiny",color:"red",list:this.state.errors,header:"These files are not parseable or do not contain an api title:"}),u.a.createElement("br",null),u.a.createElement(R.a,{type:"submit"},"Upload")))))))),u.a.createElement(ct.a.Header,{fullWidth:!0},u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(ct.a.HeaderCell,null,"Delete"))),u.a.createElement(ct.a.Body,null,ie.visibility.generic?Object.keys(ie.visibility.generic).sort(this.genericTableSort).map(function(t,a){return u.a.createElement(ct.a.Row,{key:a},u.a.createElement(ct.a.Cell,{collapsing:!0},ie.visibility.generic[t].name),u.a.createElement(ct.a.Cell,null,u.a.createElement(R.a,{basic:!0,color:"red",onClick:function(){return e.deleteAPISpec(t)}},"Delete")))}):u.a.createElement(ct.a.Row,null,u.a.createElement(ct.a.Cell,{colSpan:"4"},"No APIs found"))))))}}]),t}(u.a.Component)),pt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).redirectUri=fe(),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.signedIn?u.a.createElement(f.a,{to:"/apis"}):u.a.createElement(Ne.a.Item,{key:"register",as:"a",href:"".concat(te,"/signup?response_type=token&client_id=").concat(ee,"&redirect_uri=").concat(this.redirectUri)},"Register")}}]),t}(u.a.Component),mt=Object(P.a)(function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"getCognitoUrl",value:function(e){var t=fe();return"".concat(te,"/").concat(e,"?response_type=token&client_id=").concat(ee,"&redirect_uri=").concat(t)}},{key:"insertAuthMenu",value:function(){return le()?u.a.createElement(Ne.a.Menu,{position:"right"},se()&&u.a.createElement(Ne.a.Item,{as:v.a,to:"/admin"},"Admin Panel"),u.a.createElement(Ne.a.Item,{key:"dashboard",as:v.a,to:"/dashboard"},"My Dashboard"),u.a.createElement(Ne.a.Item,{key:"signout",as:"a",onClick:be},"Sign Out")):u.a.createElement(Ne.a.Menu,{position:"right"},u.a.createElement(Ne.a.Item,{key:"register",as:"a",href:this.getCognitoUrl("login")},"Sign In"),u.a.createElement(pt,null))}},{key:"render",value:function(){return u.a.createElement(Ne.a,{inverted:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto"},stackable:!0},u.a.createElement(Ne.a.Item,{as:v.a,to:"/"},u.a.createElement(N.a,{size:"mini",src:"/custom-content/nav-logo.png",style:{paddingRight:"10px"}}),j.Home.title),u.a.createElement(Ne.a.Item,{as:v.a,to:"/getting-started"},j.GettingStarted.title),u.a.createElement(Ne.a.Item,{as:v.a,to:"/apis"},j.APIs.title),this.insertAuthMenu())}}]),t}(u.a.Component)),ft=a(1630),gt=function(e){return ne().then(function(t){return t.post("/feedback",{},{message:e},{})})},ht={message:"",formOpen:!1,feedbackSubmitted:!1},bt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state=ht,a.handleOpenModal=function(){a.setState({formOpen:!0})},a.handleCloseModal=function(){a.setState(ht)},a.handleSubmit=function(){var e=a.state.message;gt(e).then(function(){a.setState({feedbackSubmitted:!0})})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.formOpen,i=t.feedbackSubmitted;return u.a.createElement(He.a,{closeIcon:!0,centered:!1,size:"tiny",open:n,onClose:this.handleCloseModal,trigger:u.a.createElement("div",{style:{display:"block",position:"fixed",top:"80%",right:"-62px",transform:"rotate(90deg)"}},u.a.createElement(R.a,{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},onClick:this.handleOpenModal},u.a.createElement("i",{className:"envelope outline icon"}),"Got an opinon?"))},u.a.createElement(He.a.Header,null,"Let us know!"),u.a.createElement(He.a.Content,null,!i&&u.a.createElement(Te.a,null,u.a.createElement(Te.a.Field,null,u.a.createElement(ft.a,{value:a,onChange:function(t){return e.setState({message:t.target.value})}})),u.a.createElement(R.a,{type:"submit",positive:!0,onClick:this.handleSubmit},"Submit")),i&&u.a.createElement(K.a,{positive:!0},u.a.createElement("p",null,"Thanks for your feedback"))))}}]),t}(u.a.PureComponent),yt=a(1637),vt=(a(1615),function(e){return u.a.createElement(Ne.a.Item,{key:e.title,as:v.a,to:e.url,style:{display:"inline-block",width:"100%",height:"100%"}},e.title)}),Et=Object(P.a)(function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={search:{isLoading:!1,value:""},results:[],loaded:ie.apiList.loaded,categories:{}},a.handleResultSelect=function(e,t){var a=t.result;console.log(a)},a.handleSearchChange=function(e,t){var n=t.value;a.setState(function(e){var t=e.search,a=(t.isLoading,Object(l.a)(t,["isLoading"])),i=Object(l.a)(e,["search"]);return Object(y.a)({},i,{search:Object(y.a)({},a,{isLoading:!0,value:n})})}),setTimeout(function(){if(a.state.search.value.length<1)return a.resetComponent();var e=new RegExp(W.a.escapeRegExp(a.state.search.value),"i"),t=function(t){return e.test(t.title)||e.test(t.searchable)},n=W.a.reduce(a.state.categories,function(e,a,n){var i=W.a.filter(a.results,t);return i.length&&(e[n]={name:n,results:i}),e},{});a.setState(function(e){var t=e.search.value,a=Object(l.a)(e,["search"]);return Object(y.a)({},a,{search:{isLoading:!1,value:t},results:n})})},300)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.createSearchCategories(ie.apiList.apiGateway,ie.apiList.generic)}},{key:"componentDidUpdate",value:function(e,t){t.loading!==ie.apiList.loaded&&(this.createSearchCategories(ie.apiList.apiGateway,ie.apiList.generic),this.setState(function(e){return Object(y.a)({},e,{loading:ie.apiList.loaded})}))}},{key:"createSearchCategories",value:function(e,t){var a=this,n={Subscribable:{name:"Subscribable",results:[]},"Not Subscribable":{name:"Not Subscribable",results:[]}};e.forEach(function(e){var t=e.id,a=e.stage,i=e.swagger,r=(e.subscribed,e.usagePlan);n.Subscribable.results.push({url:"/apis/".concat(t,"/").concat(a),title:"".concat(i.info.title," - ").concat(a),stage:"".concat(a),searchable:"{".concat(JSON.stringify(i)," ").concat(JSON.stringify(r)," ").concat(a,"}")})}),t.forEach(function(e){var t=e.id,a=e.swagger,i=e.stage,r=void 0!==i&&i,o=(Object(l.a)(e,["id","swagger","stage"]),{url:"/apis/".concat(t),title:"".concat(a.info.title),searchable:"".concat(JSON.stringify(a)).concat(r||"")});r&&(o.stage=r),n["Not Subscribable"].results.push(o)}),this.setState(function(e){return Object(y.a)({},e,{categories:n})},function(){console.log(a.state.categories)})}},{key:"resetComponent",value:function(){this.setState(function(e){return Object(y.a)({},e,{search:{isLoading:!1,value:""},results:[]})})}},{key:"render",value:function(){var e=this.state.search,t=e.isLoading,a=e.value,n=this.state.results;return u.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",overflow:"hidden"}},u.a.createElement(Re,{path:this.props.match}),u.a.createElement(M.a,{style:{padding:"2em"}},u.a.createElement(M.a.Column,null,u.a.createElement(yt.a,Object.assign({category:!0,loading:t,onResultSelect:this.handleResultSelect,showNoResults:!t,onSearchChange:W.a.debounce(this.handleSearchChange,500,{leading:!0}),results:n,resultRenderer:vt,value:a},this.props)))))}}]),t}(s.Component));a(1617);a.d(t,"AdminRoute",function(){return kt}),x("/custom-content/content-fragments/GettingStarted.md","GettingStarted"),x("/custom-content/content-fragments/Home.md","Home"),x("/custom-content/content-fragments/APIs.md","APIs");var wt=window.config.feedbackEnabled,kt=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return u.a.createElement(m.a,Object.assign({},a,{render:function(e){return se()?u.a.createElement(t,e):u.a.createElement(f.a,{to:"/"})}}))},St=function(e){function t(){var e;if(Object(n.a)(this,t),e=Object(r.a)(this,Object(o.a)(t).call(this)),function(){var e;ae();var t=!1;try{(e=window.localStorage.getItem(X))&&(t=1e3*ce(e).exp>new Date)}catch(a){console.error(a)}t?(ie.idToken=e,he()):be()}(),window.location.hash&&"!"===window.location.hash[1]){var a=window.location.hash.substring(2);window.history.pushState({},"home page",a)}return e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(g.a,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(mt,null),u.a.createElement(Me,null),u.a.createElement(h.a,null,u.a.createElement(m.a,{exact:!0,path:"/",component:D}),u.a.createElement(m.a,{exact:!0,path:"/index.html",component:function(){var e=b.parse(window.location.search).action;return"login"===e?ue():"logout"===e&&be(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(m.a,{path:"/getting-started",component:T}),u.a.createElement(m.a,{path:"/dashboard",component:xe}),u.a.createElement(kt,{path:"/admin",component:rt}),u.a.createElement(m.a,{exact:!0,path:"/apis",component:it}),u.a.createElement(m.a,{exact:!0,path:"/apis/search",component:Et}),u.a.createElement(m.a,{exact:!0,path:"/apis/:apiId",component:it}),u.a.createElement(m.a,{path:"/apis/:apiId/:stage",component:it}),u.a.createElement(m.a,{path:"/login",render:function(){return ue(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(m.a,{path:"/logout",render:function(){return be(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(m.a,{component:function(){return u.a.createElement("h2",null,"Page not found")}})),wt&&u.a.createElement(bt,null),u.a.createElement(Ke,null)))}}]),t}(u.a.Component);p.a.render(u.a.createElement(St,null),document.getElementById("root"))},272:function(e,t){},566:function(e,t,a){e.exports=a(1618)}},[[566,1,2]]]);
//# sourceMappingURL=main.a280c846.chunk.js.map